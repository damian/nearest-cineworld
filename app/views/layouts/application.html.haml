!!!
%html.no-js
  %head
    = csrf_meta_tag
    %title
      - if params[:action] == 'search'
        Finding cineworld cinemas and cineworld show times has never been easier
      - else
        = yield(:title)
    = javascript_include_tag 'modernizr-1.7.min'
    = stylesheet_link_tag :all
  %body{ :class => body_classes, :id => body_ids }
    .container_12
      %header
        %hgroup
          %h1
            = link_to "Nearest Cineworld", root_path
          %h2 Finding cineworld cinemas and cineworld show times has never been easier
        .clear
      #content
        %noscript
          %h3 This site requires the use of JavaScript to function. Sorry :-(
        #spinner
        - if params[:action] == 'search'
          #geo
            %h3><
              Your nearest Cineworld is: 
              %span.loading< loading
        = yield
      .clear
      %footer
        %ul
          %li
            %a{ :href => "http://damiannicholson.com" } damian nicholson built this
          %li
            %a{ :href => "http://twitter.com/damian" } @damian
    %script{ :type => 'text/javascript', :src => 'http://maps.google.com/maps/api/js?sensor=false' }
    = javascript_include_tag :defaults
    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-22492368-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
